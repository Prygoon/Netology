# Домашнее задание к занятию "Файловые системы "

---

### Задание 1

* Создайте каталог ~/test и в нем файл test_123 с любым содержимым. 
* Создайте символическую ссылку на каталог ~/test по такому пути: /tmp/soft_link.
* Используя ссылку /tmp/soft_link копируйте файл test_123 в каталог /tmp с тем же именем. Создайте жесткую ссылку на файл /tmp/test_123 с именем /tmp/hard_link.

*Вопрос 1: Файл ~/test и /tmp/test_123 это один и тот же файл(одинаковые inode)?*
Файлы `~/test` и `/tmp/test_123` - это разные файлы, потому что один из них является каталогом, а второй нет и у них разные inode. Если в вопросе имелись ввиду файлы `~/test/test_123` и `/tmp/test_123`, то это тоже разные файлы, потому что у этих файлов тоже разные inode.

![](/images/2-07/task_1_1.png "Скриншот к первому вопросу")

*Вопрос 2: Файл /tmp/soft_link и /tmp/hard_link это один и тот же файл(одинаковые inode)?*

Файлы `/tmp/soft_link` и `/tmp/hard_link` - это разные файлы, потому что у них разные inode.

![](/images/2-07/task_1_2.png "Скриншот ко второму вопросу")

*Вопрос 3: Файл /tmp/test_123 и /tmp/hard_link это один и тот же файл(одинаковые inode)?*

Файлы `/tmp/test_123` и `/tmp/hard_link` являются жесткими ссылками на один и тот же файл, потому что у них одинаковый inode.

![](/images/2-07/task_1_3.png "Скриншот ко третьему вопросу")

*Вопрос 4: Докажите что одна из ссылок символическая, а другая жесткая. Обязательно приложите в ответ скриншоты команд, которые иллюстрируют различия ссылок разного типа или(если не уверены) ход решения задания.*

На приведённом ниже скриншоте в выводе команды `ls -lhai` видно, что в атрибутах файла `/tmp/soft_link` присутствует буква `l`, что является признаком символьной ссылки, а так же после символов `->` указан файл на который указывапет данная ссылка.
В выводе той же команды видно, что у файлов `/tmp/hard_link` и `/tmp/test_123` одинаковая inode, что говорит о том, что они являются жёсткими ссылками на один и тот же файл. 

![](/images/2-07/task_1_4.png "Скриншот ко четвертому вопросу")

---
### Задание 2

* Создайте файл `~/netology`
* Создайте каталог `~/netology/`
* Поместите файл `netology` в каталог `netology`

*Какое(ие) из трех действий выполнить невозможно? Почему?*

Невозможно создать каталог `~/netology/` потому, что файл с таким названием уже существует, а каталог - это тоже файл.

---

### Задание 3

* Как посмотреть количество `inodes`?

Посмотреть количество `inodes` можно командой `df -i`.

* В каких файловых системах не может возникнуть проблемы нехватки `inodes`?

В таких файловых системах как `Btrfs`, `jfs`, `xfs`, `zfs` реализованы динамические inode. Они могут увеличить количество доступных `inode`, если это необходимо.

---

### Задание 4

В задании не предполагается использование LVM.

* Подключите к системе новый диск 3ГБ.
* Создайте на нем один раздел размером 2 ГБ.
* Разметьте раздел как `xfs`.
* Смонтируйте раздел по пути /mnt. Создайте любой файл на смонтированной файловой системе. Выполните скриншот вывода команды "df -hT".
* Увеличьте раздел до 3 ГБ. 
* Расширьте файловую систему на новое свободное пространство.
* Убедитесь что созданный вами файл остался внутри раздела и файловой системы после всех манипуляций.
* Выпоните скриншот вывода команды "df -hT".

![](/images/2-07/task_4_1.png "До расширения")

![](/images/2-07/task_4_2.png "После расширения")


## Дополнительные задания (со звездочкой*)

---

### Задание 5*

Создайте файловую систему `Btrfs` на двух дисках размером 5Гб каждый.

![](/images/2-07/task_5.png "Результат")

*Сколько будет доступно места для работы с файлами? Сколько займут метаданные?*  

Будет доступно 9.5G. Так как при создании на нескольких дисках `Btrfs` по-умолчанию применяет програмный `RAID0` к данным пользователя и `RAID1` к метаданным.
